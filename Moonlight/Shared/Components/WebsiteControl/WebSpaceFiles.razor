@using FirePortal.App.Database.Entities
@using FirePortal.App.Helpers.Files
@using FirePortal.App.Services
@using FirePortal.Shared.Components.FileManagerPartials

@inject WebSpaceService WebSpaceService

<LazyLoader Load="Load">
    <FileManager Access="Access">
    </FileManager>
</LazyLoader>

@code
{
    [CascadingParameter]
    public WebSpace CurrentWebSpace { get; set; }

    private FileAccess Access;

    private async Task Load(LazyLoader arg)
    {
        Access = await WebSpaceService.CreateFileAccess(CurrentWebSpace);
    }
}
